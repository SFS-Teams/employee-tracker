<!DOCTYPE html>
<html>
<head>
  <title>Employee Location Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background-color: #f2f2f2;
    }
    h2 {
      color: #333;
    }
    input, button {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      max-width: 400px;
    }
    #status {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>Live Location Submit</h2>

  <label for="empId">Employee ID:</label>
  <input type="text" id="empId" placeholder="e.g., SFS1001" required>

  <label for="email">Email:</label>
  <input type="email" id="email" placeholder="e.g., user@example.com" required>

  <button onclick="sendLocation()">Submit Location</button>

  <div id="status"></div>

  <script>
    function sendLocation() {
      const empId = document.getElementById("empId").value.trim();
      const email = document.getElementById("email").value.trim();
      const statusDiv = document.getElementById("status");

      if (!empId || !email) {
        statusDiv.innerText = "Please enter both Employee ID and Email.";
        return;
      }

      // Request user location
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          position => {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;

            const payload = {
              id: empId,
              email: email,
              lat: lat,
              lng: lng
            };

            fetch("YOUR_WEB_APP_URL", {  // <-- Replace this
              method: "POST",
              contentType: "application/json",
              body: JSON.stringify(payload)
            })
            .then(response => response.text())
            .then(result => {
              statusDiv.innerText = "✅ Location submitted successfully!";
            })
            .catch(error => {
              console.error(error);
              statusDiv.innerText = "❌ Error submitting location.";
            });
          },
          error => {
            statusDiv.innerText = "❌ Location access denied.";
          }
        );
      } else {
        statusDiv.innerText = "Geolocation is not supported by this browser.";
      }
    }
  </script>
</body>
</html>
